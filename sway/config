# Sway Config - Optimized for Coding & Meeting
# Mod key (Super/Windows)
set $mod Mod4

# Directional keys
set $left h
set $down j
set $up k
set $right l

# Terminal
set $term kitty

# Browser
set $browser midori

# Application launcher
set $menu wofi --show drun --show-icons

# Output configuration (adjust as needed)
# Check with: swaymsg -t get_outputs
output * bg ~/.config/sway/wallpaper.jpg fill

# Idle configuration
exec swayidle -w \
    timeout 300 'swaylock -f' \
    timeout 600 'swaymsg "output * power off"' \
    resume 'swaymsg "output * power on"' \
    before-sleep 'swaylock -f'

# Input configuration
input type:keyboard {
    xkb_layout "us"
    # xkb_options "caps:escape"
    repeat_delay 300
    repeat_rate 50
}

input type:touchpad {
    tap enabled
    natural_scroll enabled
    dwt enabled
    middle_emulation enabled
}

# Gaps and borders
gaps inner 8
gaps outer 4
default_border pixel 2
default_floating_border pixel 2
titlebar_border_thickness 0
titlebar_padding 0

# Colors (Arc Dark theme)
set $bg #2f343f
set $fg #d3dae3
set $accent #5294e2
set $urgent #e53935
set $indicator #42a5f5

# Window colors          border    background  text  indicator  child_border
client.focused           $accent   $accent     $fg   $indicator $accent
client.focused_inactive  $bg       $bg         $fg   $bg        $bg
client.unfocused         $bg       $bg         $fg   $bg        $bg
client.urgent            $urgent   $urgent     $fg   $urgent    $urgent

# Key bindings
# Basics
bindsym $mod+Return exec $term
bindsym $mod+d exec $menu
bindsym $mod+Shift+q kill
bindsym $mod+Shift+c reload
bindsym $mod+Shift+e exec wlogout
bindsym $mod+Shift+b exec $browser

# Moving focus
bindsym $mod+$left focus left
bindsym $mod+$down focus down
bindsym $mod+$up focus up
bindsym $mod+$right focus right
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# Moving windows
bindsym $mod+Shift+$left move left
bindsym $mod+Shift+$down move down
bindsym $mod+Shift+$up move up
bindsym $mod+Shift+$right move right
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# Workspaces
set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"

bindsym $mod+1 workspace number $ws1
bindsym $mod+2 workspace number $ws2
bindsym $mod+3 workspace number $ws3
bindsym $mod+4 workspace number $ws4
bindsym $mod+5 workspace number $ws5
bindsym $mod+6 workspace number $ws6
bindsym $mod+7 workspace number $ws7
bindsym $mod+8 workspace number $ws8
bindsym $mod+9 workspace number $ws9
bindsym $mod+0 workspace number $ws10

bindsym $mod+Shift+1 move container to workspace number $ws1
bindsym $mod+Shift+2 move container to workspace number $ws2
bindsym $mod+Shift+3 move container to workspace number $ws3
bindsym $mod+Shift+4 move container to workspace number $ws4
bindsym $mod+Shift+5 move container to workspace number $ws5
bindsym $mod+Shift+6 move container to workspace number $ws6
bindsym $mod+Shift+7 move container to workspace number $ws7
bindsym $mod+Shift+8 move container to workspace number $ws8
bindsym $mod+Shift+9 move container to workspace number $ws9
bindsym $mod+Shift+0 move container to workspace number $ws10

# Layout
bindsym $mod+b splith
bindsym $mod+v splitv
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split
bindsym $mod+f fullscreen
bindsym $mod+Shift+space floating toggle
bindsym $mod+space focus mode_toggle
bindsym $mod+a focus parent

# Scratchpad
bindsym $mod+Shift+minus move scratchpad
bindsym $mod+minus scratchpad show

# Resize mode
mode "resize" {
    bindsym $left resize shrink width 10px
    bindsym $down resize grow height 10px
    bindsym $up resize shrink height 10px
    bindsym $right resize grow width 10px
    
    bindsym Left resize shrink width 10px
    bindsym Down resize grow height 10px
    bindsym Up resize shrink height 10px
    bindsym Right resize grow width 10px
    
    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+r mode "resize"

# Screenshot & Screen recording
bindsym Print exec ~/.config/sway/scripts/screenshot.sh full
bindsym $mod+Print exec ~/.config/sway/scripts/screenshot.sh select
bindsym Shift+Print exec ~/.config/sway/scripts/screenshot.sh window
bindsym $mod+Shift+r exec ~/.config/sway/scripts/screenrecord.sh

# Brightness
bindsym XF86MonBrightnessUp exec brightnessctl set +5%
bindsym XF86MonBrightnessDown exec brightnessctl set 5%-

# Volume
bindsym XF86AudioRaiseVolume exec wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
bindsym XF86AudioLowerVolume exec wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindsym XF86AudioMute exec wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindsym XF86AudioMicMute exec wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle

# Media controls
bindsym XF86AudioPlay exec playerctl play-pause
bindsym XF86AudioNext exec playerctl next
bindsym XF86AudioPrev exec playerctl previous

# Lock screen
bindsym $mod+x exec swaylock -f

# File manager
bindsym $mod+Shift+f exec thunar

# Clipboard history
bindsym $mod+Shift+v exec cliphist list | rofi -dmenu | cliphist decode | wl-copy

# Auto tiling
exec_always autotiling

# Polkit
exec /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1

# Notification daemon
exec mako

# NetworkManager applet
exec nm-applet --indicator

# Clipboard manager
exec wl-paste --watch cliphist store

# Bar
bar {
    swaybar_command waybar
}

# Window rules for floating
for_window [app_id="pavucontrol"] floating enable
for_window [app_id="thunar"] floating enable, resize set 1000 600
for_window [title="Picture-in-Picture"] floating enable, sticky enable
for_window [app_id="firefox" title="^Picture-in-Picture$"] floating enable, sticky enable

# GTK theme
set $gnome-schema org.gnome.desktop.interface
exec_always {
    gsettings set $gnome-schema gtk-theme 'Arc-Dark'
    gsettings set $gnome-schema icon-theme 'Papirus-Dark'
    gsettings set $gnome-schema cursor-theme 'Adwaita'
    gsettings set $gnome-schema font-name 'Noto Sans 10'
}

# XWayland applications
xwayland enable

# Focus follows mouse
focus_follows_mouse yes

# Animations (smooth transitions)
# Built-in to Sway, minimal overhead
